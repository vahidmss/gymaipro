# ุฎูุงุตู ุชูุธูุงุช ุณุณุชู ูพุฑุฏุงุฎุช

## โ **ุชูุธูุงุช ูุนู:**

### **ุฒุจุงู (Zibal):**
- **Merchant ID:** `68cd4851a45c720017e12178` โ
- **API Key:** `3ee6888401664a9daae5acd49ece0563` โ
- **ูุถุนุช:** ุขูุงุฏู ุงุณุชูุงุฏู

### **ุฒุฑูโูพุงู (Zarinpal):**
- **Merchant ID:** `YOUR_ZARINPAL_MERCHANT_ID` โ๏ธ
- **ูุถุนุช:** ฺฉุงููฺฏ ูุดุฏู

## ๐ง **ูุฑุงุญู ุจุนุฏ:**

### **1. ุชุณุช ุณุณุชู ูพุฑุฏุงุฎุช:**
```bash
# ุฏุฑ ุงูพูฺฉุดู
1. ุฑู "ุชุณุช ุณุฑุน" ฺฉูฺฉ ฺฉูุฏ
2. ูุชุงุฌ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ุงฺฏุฑ ูููู ุจูุฏุ ุณุณุชู ุขูุงุฏู ุงุณุช
```

### **2. ุงุฌุฑุง SQL Script:**
```sql
-- ูุงู create_payment_tables.sql ุฑุง ุฏุฑ Supabase ุงุฌุฑุง ฺฉูุฏ
```

### **3. ุชุณุช ฺฉุงูู:**
```bash
# ุฏุฑ ุงูพูฺฉุดู
1. ุฑู "ุชุณุช ฺฉุงูู" ฺฉูฺฉ ฺฉูุฏ
2. ุชูุงู ุณุฑูุณโูุง ุฑุง ุชุณุช ฺฉูุฏ
3. ูุชุงุฌ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
```

## ๐ฏ **ูุญูู ุงุณุชูุงุฏู:**

### **ูพุฑุฏุงุฎุช ูุณุชูู:**
```dart
// ุงุฌุงุฏ ุจุฑูุงูู ูพุฑุฏุงุฎุช
final plan = PaymentPlan(
  id: 'plan-1',
  name: 'ุงุดุชุฑุงฺฉ ูุงูุงูู',
  price: 50000, // 5,000 ุชููุงู
  type: PaymentPlanType.subscription,
);

// ูุฏุงุช ุจู ุตูุญู ูพุฑุฏุงุฎุช
Navigator.pushNamed(context, '/payment', arguments: plan);
```

### **ุงุณุชูุงุฏู ุงุฒ ฺฉู ูพูู:**
```dart
final walletService = WalletService();

// ุดุงุฑฺ ฺฉู ูพูู
await walletService.chargeWallet(
  userId: userId,
  amount: 100000, // 10,000 ุชููุงู
  description: 'ุดุงุฑฺ ฺฉู ูพูู',
);
```

### **ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุชุฎูู:**
```dart
final discountService = DiscountService();

// ุงุนุชุจุงุฑุณูุฌ ฺฉุฏ ุชุฎูู
final isValid = await discountService.validateDiscountCode(
  code: 'WELCOME20',
  userId: userId,
  amount: 100000,
);
```

## ๐ฑ **ุตูุญุงุช ุณุณุชู ูพุฑุฏุงุฎุช:**

- **`/payment`** - ุตูุญู ูพุฑุฏุงุฎุช ุงุตู
- **`/wallet`** - ูุฏุฑุช ฺฉู ูพูู
- **`/subscriptions`** - ูุฏุฑุช ุงุดุชุฑุงฺฉโูุง
- **`/payment-history`** - ุชุงุฑุฎฺู ูพุฑุฏุงุฎุชโูุง
- **`/payment-test`** - ุชุณุช ฺฉุงูู ุณุณุชู
- **`/quick-payment-test`** - ุชุณุช ุณุฑุน

## ๐ **ุนุจโุงุจ:**

### **ุงฺฏุฑ ุฎุทุง ุฏุงุดุช:**
1. **ุจุฑุฑุณ ูุงฺฏโูุง:** Console ุฑุง ฺฺฉ ฺฉูุฏ
2. **ุชุณุช ุงุชุตุงู:** ุงุฒ ุตูุญู ุชุณุช ุงุณุชูุงุฏู ฺฉูุฏ
3. **ุจุฑุฑุณ ูพุงฺฏุงู ุฏุงุฏู:** ุฌุฏุงูู ุฑุง ฺฺฉ ฺฉูุฏ
4. **ุฑุงูููุง ฺฉุงูู:** ูุงู `PAYMENT_TROUBLESHOOTING.md`

### **ูุดฺฉูุงุช ุฑุงุฌ:**
- โ **"invalid merchant"**: Merchant ID ุงุดุชุจุงู
- โ **"ูุจูุบ ูุงูุนุชุจุฑ"**: ูุจูุบ ฺฉูุชุฑ ุงุฒ ุญุฏุงูู
- โ **"ุฎุทุง ูพุงฺฏุงู ุฏุงุฏู"**: ุฌุฏุงูู ุงุฌุงุฏ ูุดุฏู

## ๐ **ุขูุงุฏู ุจุฑุง Production:**

### **ฺฺฉโูุณุช ููุง:**
- [ ] Merchant ID ุตุญุญ ุชูุธู ุดุฏู
- [ ] SQL Script ุงุฌุฑุง ุดุฏู
- [ ] ุชุณุช ุงุชุตุงู ูููู
- [ ] ุชุณุช ูพุฑุฏุงุฎุช ูููู
- [ ] ุชุณุช ฺฉู ูพูู ูููู
- [ ] ุชุณุช ุงุดุชุฑุงฺฉ ูููู
- [ ] ุชุณุช ฺฉุฏ ุชุฎูู ูููู

### **ูฺฉุงุช ููู:**
1. **ููุดู ุฏุฑ ุญุงูุช ุชุณุช ุดุฑูุน ฺฉูุฏ**
2. **ูุจุงูุบ ฺฉู ุชุณุช ฺฉูุฏ**
3. **ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ**
4. **Backup ูพุงฺฏุงู ุฏุงุฏู ุฏุงุดุชู ุจุงุดุฏ**

## ๐ **ูพุดุชุจุงู:**

- **ุฒุจุงู:** support@zibal.ir
- **ุฒุฑูโูพุงู:** support@zarinpal.com
- **ูุณุชูุฏุงุช:** ูุงูโูุง ุฑุงูููุง ุฏุฑ ูพุฑูฺู

---

**ูฺฉุชู:** ุณุณุชู ูพุฑุฏุงุฎุช ุดูุง ุญุงูุง ฺฉุงููุงู ุขูุงุฏู ุงุณุช! ๐
